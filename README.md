# 심화과제 : acitivity의 생명주기 (채승운)

## 생명주기의 개요
먼저 1주차 세미나에서 배운 activity는 안드로이드를 구성하는 4대 컴포넌트(activity, broadcast receiver, contents provider, service)중 하나이고, UI와 직결되는 앱의 기본적인 요소이다. 카톡, 배민 등 여러 앱을 사용하며 화면들이 스르륵 이동하는 상황을 많이 경험해보았을 텐데, 이 모든 것이 사실 액티비티들인 것이다. 액티비티는 기본적으로 생명주기를 갖는데, 생명주기(LifeCycle)는 앱이 실행된 후 화면 전환, 폰 화면 꺼짐, 종료 등 다양한 상태 변화가 이루어질 때마다 화면에 보이는 현재 activity가 가지고 있는 관련 메서드를 통해 상태 변화를 인지하고 이에 대처하도록 만들어 주는 역할을 한다.

## 생명주기의 종류 및 설명
- onCreate()
    - 최초로 앱(혹은 액티비티)를 실행하면 호출되는 메서드이다. 보통 앱의 시작을 알리는 구간이므로, 변수 등의 초기화 작업을 이쪽에서 진행해주는 것이 바람직하다.
    
- onStart()
    - 이 메서드가 호출된 이후부터 사용자가 해당 액티비티의 화면을 마주한다.

- onRestart()
    - 액티비티가 중단(onStop()->)되었다가 재시작(->onStart())되기 직전 호출된다.

- onResume()
    - 사용자와 액티비티가 상호작용할 때 호출된다. 이 상황을 foreground에 액티비티가 존재한다고 표현한다. 즉 액티비티가 "실행 중"인 상태라고 할 수 있다. 이 액티비티를 방해하는 이벤트가 발생하면 onPause() 메서드가 호출된다. 실행 중인 액티비티 내에서 다양한 상호작용이 이루어진다.

- onPause()
    - 현재 액티비티가 이벤트에 의해 방해받을 경우 호출된다. 현재 액티비티는 실행 중이지만 사용자와 상호작용이 불가능하다. (즉 foreground에서 이탈한다.) 매우 짧은 시간동안 실행되므로 데이터 저장 및 네트워크 호출 등의 작업을 지양해야 한다. 활동이 다시 시작하면 onResume()이 호출된다.

- onStop()
    - 해당 액티비티가 다른 액티비티의 실행에 의해 가려질 때 호출된다. 메모리가 부족할 경우 호출되지 않을 수 있다. 액티비티가 화면에 보이지 않을 때 필요없는 기능을 이쪽에서 모두 정지시킬 수 있다.

- onDestory()
    - 액티비티가 소멸하기 직전에 호출된다. 액티비티나 앱 프로세스가 종료된다.

## 이해를 돕기 위한 예시 상황에서의 생명주기
- 화면 회전을 시도한다면?
    - onDestory()까지 호출되고 회전된 activity의 onResume() 메서드까지 진행된다. 화면을 회전할 때 기존 액티비를 종료하고 새로 만들어내는 것이다. (회전할때 가끔 버벅거리는데 이거 때문인가?)
- 홈에서 앱을 종료한다면?
    - 당연히 onDestory()까지 진행되고 액티비티가 종료된다. 재실행시 onCreate()부터 시작된다.
- 다른 액티비티가 현재 액티비티를 가린다면?
    - onStop() 상태에서 멈춰 있다. 다시 기존 액티비티로 복귀한다면 onRestart() 메서드가 실행되고 다시 해당 액티비티의 화면을 마주한다.
